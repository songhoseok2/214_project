import sys
import numpy

#up to day 8
alabama =       [0.00002161860097, 0.00002671732761, 0.00003202000332, 0.00003997401689, 0.00004935567391, 0.00007872433938, 0.0001082969539, 0.000130323453]
alaska =        [0.0001394309304, 0.0001558345693, 0.0001626694188, 0.0001818069975, 0.0001954766966, 0.0002064124558, 0.0002146142753, 0.000233751854]
arizona =       [0.00001428823239, 0.00002088280119, 0.00003228590973, 0.00004478811307, 0.00005509212681, 0.00006979251975, 0.00009136225519, 0.000106200035]
arkansas =      [0.00003313667819, 0.00003910128027, 0.00005467551902, 0.00006660472317, 0.00007687709341, 0.0001020609688, 0.0001156470069, 0.0001279075778]
california =    [0.00000288518315, 0.000003366047008, 0.000003973453987, 0.000004479626469, 0.000005011107575, 0.000006251230157, 0.00000847838908, 0.000009920980655]
colorado =      [0.00001753857096, 0.00002274804749, 0.00002778387479, 0.0000317778068, 0.00003750823097, 0.00004810083324, 0.00006303466594, 0.0000824833783]
connecticut =   [0.00004459669025, 0.00005441357175, 0.00006254755928, 0.00009171772146, 0.0001164001664, 0.0001733380791, 0.0002454220376, 0.0002838481166]
delware =       [0.0001222062019, 0.0001468528309, 0.0001694455741, 0.0002197657749, 0.0002382507466, 0.0002711129185, 0.0003275947766, 0.0003779149773]
washington_dc = [0.0001643643845, 0.0001941200058, 0.0002592989859, 0.0003273118347, 0.0003783214712, 0.0004307480422, 0.0004845915474, 0.000568190674]
florida =       [0.000005354381609, 0.000006937416172, 0.000007449574413, 0.00001005692546, 0.00001527162755, 0.00002011385091, 0.00002621318997, 0.00003552515798]
georgia =       [0.00001139636238, 0.0000137509827, 0.00001855440816, 0.00002703104134, 0.00003955762147, 0.00005227257123, 0.00005839458407, 0.00007534785042]

A_matrix = numpy.array([alabama, alaska, arizona, arkansas, california, colorado, connecticut, delware, washington_dc, florida, georgia])

#b_vector is the cases on day 9
b_vector = numpy.array([[0.0001468433273],
                        [0.0002528894326],
                        [0.0001262585151],
                        [0.0001355290138],
                        [0.00001194567058],
                        [0.0001026266875],
                        [0.0003621026863],
                        [0.0004035885492],
                        [0.0007013825028],
                        [0.00004688575896],
                        [0.0001033207399]])
#Ax = b
#x = ((A^t)(A))^-1 * A^t * b


AtA = ((A_matrix).transpose()).dot(A_matrix)
AtA_inverse = numpy.linalg.inv(AtA)
x_vector = (AtA_inverse.dot(A_matrix.transpose())).dot(b_vector)
print("x_vector: ")
print(x_vector)

michigan = numpy.array([0.00003344395539, 0.00005497225003, 0.00007880357153, 0.0001036362091, 0.0001329747687, 0.0001793357009, 0.0002298020288, 0.0002859758581])

#prediction of cases in Michigan on day 9
prediction = michigan.dot(x_vector)
print("prediction: ", prediction)